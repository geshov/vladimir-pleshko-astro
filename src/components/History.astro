---
import { getEntry, getCollection } from "astro:content";
import { sortHistory } from "../utils/helpers";

import HistoryItem from "./HistoryItem.astro";

const history = await getEntry("sections", "history");
const items = sortHistory(await getCollection("history"));
---

<section x-ref="history" class="_section">
  <div class="_container">
    <div class="flex flex-col gap-10">
      <h2 class="text-3xl sm:text-4xl text-center font-semibold">
        {history.data.title}
      </h2>

      <ul
        class="timeline timeline-snap-icon max-md:timeline-compact timeline-vertical">
        {items.map((item, index) => <HistoryItem item={item} index={index} />)}
      </ul>
    </div>
  </div>
</section>
